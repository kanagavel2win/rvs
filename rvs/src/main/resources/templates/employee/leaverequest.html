<!DOCTYPE html>

<html
  xmlns:th="http://www.thymeleaf.org" 
  lang="en"
  class="light-style layout-navbar-fixed layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  th:data-assets-path="@{/assets/}"
  data-template="vertical-menu-template"
  
>
  <head>
	<meta name="_csrf" th:content="${_csrf.token}" />
	<!-- default header name is X-CSRF-TOKEN -->
	<meta name="_csrf_header" th:content="${_csrf.headerName}" />

    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Leave Request List</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" th:href="@{/assets/img/favicon/favicon.ico}" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet" type="text/css"
    />

    <!-- Icons -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/fonts/boxicons.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/fonts/fontawesome.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/fonts/flag-icons.css}" />

    <!-- Core CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/css/rtl/core.css}" class="template-customizer-core-css" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/css/rtl/theme-default.css}" class="template-customizer-theme-css" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/css/demo.css}" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/libs/typeahead-js/typeahead.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-buttons-bs5/buttons.bootstrap5.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/sweetalert2/sweetalert2.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/flatpickr/flatpickr.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/bootstrap-datepicker/bootstrap-datepicker.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/bootstrap-daterangepicker/bootstrap-daterangepicker.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/jquery-timepicker/jquery-timepicker.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/pickr/pickr-themes.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/tagify/tagify.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/bootstrap-select/bootstrap-select.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/select2/select2.css}" />
     
    <!-- Row Group CSS -->
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-rowgroup-bs5/rowgroup.bootstrap5.css}" />
    <!-- Form Validation -->
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/formvalidation/dist/css/formValidation.min.css}" />


    <!-- Page CSS -->

    <!-- Helpers -->
    <script th:src="@{/assets/vendor/js/helpers.js}"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Template customizer: To hide customizer set displayCustomizer value false in config.js.  -->
    <script th:src="@{/assets/vendor/js/template-customizer.js}"></script>
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script th:src="@{/assets/js/config.js}"></script>
    <style>
    
    
    </style>
  </head>

  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->
		<div th:insert="employee/menu"></div>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

       <div th:insert="employee/header"></div>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->
				 <div class="container-xxl flex-grow-1 container-p-y">
              <h4 class="py-3 breadcrumb-wrapper mb-4"><span class="text-muted fw-light">Apps/</span>Leave Request List</h4>

<!-- Users List -->
                      
              <!-- DataTable with Buttons -->
              <div class="card">
                <div class="card-datatable table-responsive pt-0">
                  <table class="datatables-basic table table-bordered">
                    <thead>
                      <tr>
                       
                        <th></th>
                        <th></th>
                        <th>id</th>
                        <th>From Date</th>
                        <th>To Date</th>
                        <th>Leave Type</th>
                        <th>Time</th>
                        <th>Note</th>
                        <th>Status</th>
                        <th>Comments</th>
                        
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
             
             <!-- End Offcanvas -->
			<button class="btnoffcanvas btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasEnd" aria-controls="offcanvasEnd" style="visibility:hidden" ></button>
			<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasEnd" aria-labelledby="offcanvasEndLabel">
			  <div class="offcanvas-header">
			    <h5 id="offcanvasEndLabel" class="offcanvas-title">Leave Request</h5>
			    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
			  </div>
			 <div class="offcanvas-body flex-grow-1">
                  <form class="add-new-record pt-0 row g-2" id="form-add-leave" onsubmit="return false">
                     
                    <div class="col-lg-12 col-md-12">
                      <label class="form-label" for="startdate">FROM DATE</label>
                      <div class="has-validation">
                        
                         <input  type="text" id="startdate" name="startdate"  class="form-control" placeholder="e.g. March 7, 2023" required />
                        
                       <div class="invalid-feedback">Please enter the Branch Name.</div>
                      </div>
                       
                    </div>
                    
                    
                    <div class="col-lg-12 col-md-12">
                      <label class="form-label" for="enddate">TO DATE</label>
                      <div class="has-validation">
                        
                         <input  type="text" id="enddate" class="form-control" name="enddate" placeholder="e.g. March 7, 2023" required />
                        
                       <div class="invalid-feedback">Please enter the Branch Name.</div>
                      </div>
                       
                    </div>
                    
                    <div class="col-lg-12 col-md-12">
                      <label class="form-label" for="leavetype">LEAVE TYPE</label>
                      <div class="has-validation">
                        
                         <select class="form-select" id="leavetype" name="leavetype" required>
                               <option value="">-</option>
	                          <option value="Personal">Personal</option>
	                          <option value="Sick">Sick</option>
	                           <option value="Vacation">Vacation</option>
	                           <option value="Permission">Permission</option>
	                    </select>
                        
                       <div class="invalid-feedback">Please enter the Leave Type.</div>
                      </div>
                       
                    </div>
                    
            <div class="col-lg-12 col-md-12">
            <label class="switch">
              <input type="checkbox" name="halfday" class="switch-input" onclick="halfhaldle(event);" value="0"/>
              <span class="switch-toggle-slider">
                <span class="switch-on"></span>
                <span class="switch-off"></span>
              </span>
              <span class="switch-label">Halfday</span>
            </label>
          </div>
                    
                    <div class="half" style="display:none;">
                    
                     <div class="col-lg-12 col-md-12">
                      <label class="form-label" for="starttime">START TIME</label>
                      <div class="has-validation">
                        
                         <input  type="text" id="starttime" name="starttime" class="form-control" placeholder="e.g. 12:00 PM" readonly />
                        
                       <div class="invalid-feedback">Please enter the Start Time.</div>
                      </div>
                       
                    </div>
                    
                    
                    
                     <div class="col-lg-12 col-md-12">
                      <label class="form-label" for="endtime">END TIME</label>
                      <div class="has-validation">
                        
                         <input  type="text" id="endtime" name="endtime" class="form-control" placeholder="e.g. 12:00 PM" readonly />
                        
                       <div class="invalid-feedback">Please enter the End Time.</div>
                      </div>
                       
                    </div>
                    </div>
                    
                     <div class="col-lg-12 col-md-12">
                      <label class="form-label" for="notes">NOTES</label>
                      <div class="has-validation">
                      
                    <input type="text" class="form-control" id="notes" name="notes" placeholder="e.g. notes" required />
                    
                     <div class="invalid-feedback">Please enter the  Notes.</div>
                      </div>
                       
                    </div>
                 
                    <div class="col-sm-12">
                      <button type="submit" class="btn btn-primary newleavesubmit me-sm-3 me-1">Submit</button>
                      <button type="reset" class="btn btn-outline-secondary  newleaveclose" data-bs-dismiss="offcanvas">Cancel</button>
                    </div>
                  </form>
                </div>
			</div>
	
	        <!-- / Content -->

            <!-- Footer -->
            <footer class="content-footer footer bg-footer-theme">
              <div class="container-fluid d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
                <div class="mb-2 mb-md-0">
                  Â©
                  <script>
                    document.write(new Date().getFullYear());
                  </script>
                  , made with â¤ï¸ by
                  <a href="https://pixinvent.com" target="_blank" class="footer-link fw-semibold">PIXINVENT</a>
                </div>
                <div>
                  <a href="https://themeforest.net/licenses/standard" class="footer-link me-4" target="_blank"
                    >License</a
                  >
                  <a href="https://1.envato.market/pixinvent_portfolio" target="_blank" class="footer-link me-4"
                    >More Themes</a
                  >

                  <a
                    href="https://pixinvent.com/demo/frest-clean-bootstrap-admin-dashboard-template/documentation-bs5/"
                    target="_blank"
                    class="footer-link me-4"
                    >Documentation</a
                  >

                  <a href="https://pixinvent.ticksy.com/" target="_blank" class="footer-link d-none d-sm-inline-block"
                    >Support</a
                  >
                </div>
              </div>
            </footer>
            <!-- / Footer -->

            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>

      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->

  <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->
    <script th:src="@{/assets/vendor/libs/jquery/jquery.js}"></script>
    <script th:src="@{/assets/vendor/libs/popper/popper.js}"></script>
    <script th:src="@{/assets/vendor/js/bootstrap.js}"></script>
    <script th:src="@{/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js}"></script>

    <script th:src="@{/assets/vendor/libs/hammer/hammer.js}"></script>

    <script th:src="@{/assets/vendor/libs/i18n/i18n.js}"></script>
    <script th:src="@{/assets/vendor/libs/typeahead-js/typeahead.js}"></script>

    <script th:src="@{/assets/vendor/js/menu.js}"></script>
    <!-- endbuild -->

     <!-- Vendors JS -->
    <script th:src="@{/assets/vendor/libs/select2/select2.js}"></script>
    <script th:src="@{/assets/vendor/libs/bootstrap-select/bootstrap-select.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables/jquery.dataTables.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-bs5/datatables-bootstrap5.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-responsive/datatables.responsive.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-buttons/datatables-buttons.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-buttons-bs5/buttons.bootstrap5.js}"></script>
    <script th:src="@{/assets/vendor/libs/jszip/jszip.js}"></script>
    <script th:src="@{/assets/vendor/libs/pdfmake/pdfmake.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-buttons/buttons.html5.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-buttons/buttons.print.js}"></script>
    <!-- Flat Picker -->
    <script th:src="@{/assets/vendor/libs/moment/moment.js}"></script>
    <script th:src="@{/assets/vendor/libs/flatpickr/flatpickr.js}"></script>
     <script th:src="@{/assets/vendor/libs/bootstrap-datepicker/bootstrap-datepicker.js}"></script>
    <script th:src="@{/assets/vendor/libs/bootstrap-daterangepicker/bootstrap-daterangepicker.js}"></script>
    <script th:src="@{/assets/vendor/libs/jquery-timepicker/jquery-timepicker.js}"></script>
    <script th:src="@{/assets/vendor/libs/pickr/pickr.js}"></script>
    
    <!-- Row Group JS -->
    <script th:src="@{/assets/vendor/libs/datatables-rowgroup/datatables.rowgroup.js}"></script>
    <script th:src="@{/assets/vendor/libs/datatables-rowgroup-bs5/rowgroup.bootstrap5.js}"></script>
    <script th:src="@{/assets/vendor/libs/sweetalert2/sweetalert2.js}"></script>
    <script th:src="@{/assets/vendor/libs/tagify/tagify.js}"></script>
    <!-- Form Validation -->
    <script th:src="@{/assets/vendor/libs/formvalidation/dist/js/FormValidation.min.js}"></script>
    <script th:src="@{/assets/vendor/libs/formvalidation/dist/js/plugins/Bootstrap5.min.js}"></script>
    <script th:src="@{/assets/vendor/libs/formvalidation/dist/js/plugins/AutoFocus.min.js}"></script>

    <!-- Main JS -->
    <script th:src="@{/assets/js/main.js}"></script>
    <script>
     
    const flatpickrFriendly = document.querySelector('#startdate');
	 // Human Friendly
	  if (flatpickrFriendly) {
	    flatpickrFriendly.flatpickr({
	      altInput: true,
	      altFormat: 'F j, Y',
	      dateFormat: 'Y-m-d'
	    });
	  }
	  const flatpickrFriendly1 = document.querySelector('#enddate');
		 // Human Friendly
		  if (flatpickrFriendly1) {
			  flatpickrFriendly1.flatpickr({
		      altInput: true,
		      altFormat: 'F j, Y',
		      dateFormat: 'Y-m-d'
		    });
		  }
		 
		  const flatpickrFriendly3 = flatpickr("#endtime", {
			   enableTime: !0,
		        noCalendar: !0,
		        altInput: true,
		     });
		
		const flatpickrFriendly2 = flatpickr("#starttime", {
			enableTime: !0,
	        noCalendar: !0,
	        altInput: true,
		     });
		
		
    	//--------------------------------------------------------------------------------------------------------------------------------------
    	let fv;
    	
    	//--------------------------------------------------------------------------------------------------------------------------------------
    	
    	$(document).on("click", ".create-new", function() {	
    		
    		$('.btnoffcanvas').click();
    	});
    	
    	//--------------------------------------------------------------------------------------------------------------------------------------		 		


			var token = $("meta[name='_csrf']").attr("content");
			var header = $("meta[name='_csrf_header']").attr("content");
			$(document).ajaxSend(function(e, xhr, options) {
				xhr.setRequestHeader(header, token);
			});
			
			
			  var dt_basic_table = $('.datatables-basic');

		  	  	// DataTable with buttons
		  	  	// --------------------------------------------------------------------

		  	  		// --------------------------------------------------------------------

					
					    var dt_basic = dt_basic_table.DataTable({
					    	 ajax: {
					             "url": "leaverequestlistjson",
					             "type": "GET",
					             "dataSrc": "",
					         },
					      columns: [
					        { data: '' },
					        { data: 'id' },
					        { data: 'id' },
					        { data: 'fromadate' },
					        { data: 'todate' },
					        { data: 'leavetype' },
					        { data: 'permissionendtime' },
					        { data: 'notes' },
					        { data: '' },
					        { data: 'approvercomments' },
					       
					      ],
					      columnDefs: [
					        {
					        	className: 'control',
						          orderable: false,
						          responsivePriority: 1,
						          searchable: false,
						          targets: 0,
						          render: function(data, type, full, meta) {
						            return '';
						          }
					        },
					        {
					          // For Checkboxes
					          targets: 1,
					          orderable: false,
					          responsivePriority: 2,
					          searchable: false,
					          checkboxes: true,
					          render: function() {
					            return '<input type="checkbox" class="dt-checkboxes form-check-input">';
					          },
					          checkboxes: {
					            selectAllRender: '<input type="checkbox" class="form-check-input">'
					          }
					        },
					        
					        {
						          targets: 2,
						          searchable: false,
						          visible: false
						    },
						    

					        {
						          targets: 8,
						          render: function(data, type, full, meta) {
						        	  
						        	  var st = full.status;
						        	  var id = full.id;
				        			  var status = [];
				        			     status['Approved'] = ' bg-label-success';
							             status['Rejected'] = ' bg-label-danger';
							             status['Pending'] = ' bg-label-warning';
							             status['Cancelled'] = ' bg-label-dark';
							             
							             if (typeof status[st] === 'undefined') {
								              return data;
								            }
							             var txt ='';
							             if(st == 'Pending')
							            	 {
							            	 txt+=`<button type="button" class="btn btn-sm rounded-pill btn-label-primary" onclick="CancelRequest(${id});">Cancel the Request</button>`;
							            	 }
							             else
							            	{
							            	 txt+='';
							            	}
								            return (
								              `<span class="badge rounded-pill ${status[st]}">  ${st} </span>  ${txt}`
								            );
						        	  
						          },
						    },
						 
						   
					        
					      ],
					      
					      dom:
					        '<"card-header"<"head-label text-center"><"dt-action-buttons text-end"B>><"d-flex justify-content-between align-items-center row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>t<"d-flex justify-content-between row"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',
					      displayLength: 10,
					      lengthMenu: [10, 25, 50, 75, 100],
					      buttons: [
					        {
					          extend: 'collection',
					          className: 'btn btn-label-primary dropdown-toggle me-2',
					          text: '<i class="bx bx-export me-2"></i>Export',
					          buttons: [
					            {
					              extend: 'print',
					              text: '<i class="bx bx-printer me-2" ></i>Print',
					              className: 'dropdown-item',
					              
					            },
					            {
					              extend: 'csv',
					              text: '<i class="bx bx-file me-2" ></i>Csv',
					              className: 'dropdown-item',
					              
					            },
					            {
					              extend: 'excel',
					              text: 'Excel',
					              className: 'dropdown-item',
					              
					            },
					            {
					              extend: 'pdf',
					              text: '<i class="bx bxs-file-pdf me-2"></i>Pdf',
					              className: 'dropdown-item',
					              
					            },
					            {
					              extend: 'copy',
					              text: '<i class="bx bx-copy me-2" ></i>Copy',
					              className: 'dropdown-item',
					              
					            }
					          ]
					        },
					        {
					          text: '<i class="bx bx-plus me-2"></i> <span class="d-none d-lg-inline-block" >Apply Leave  </span>',
					          className: 'create-new btn btn-primary'
					        }
					      ],
					      responsive: {
					        details: {
					          display: $.fn.dataTable.Responsive.display.modal({
					            header: function(row) {
					              var data = row.data();
					              return 'Details of ';
					            }
					          }),
					          type: 'column',
					          renderer: function(api, rowIdx, columns) {
					            var data = $.map(columns, function(col, i) {
					              return col.title !== '' // ? Do not show row in modal popup if title is blank (for check box)
					                ? '<tr data-dt-row="' +
					                    col.rowIndex +
					                    '" data-dt-column="' +
					                    col.columnIndex +
					                    '">' +
					                    '<td>' +
					                    col.title +
					                    ':' +
					                    '</td> ' +
					                    '<td>' +
					                    col.data +
					                    '</td>' +
					                    '</tr>'
					                : '';
					            }).join('');
					
					            return data ? $('<table class="table"/><tbody />').append(data) : false;
					          }
					        }
					      }
					    });
					    $('div.head-label').html('<h5 class="card-title mb-0">Leave Request List</h5>');
    	
    	
    	
		 $('#form-add-leave').submit(function(e){
			 var form = $('#form-add-leave')[0];
	    	  const formData = new FormData(form);
	    	  formData.append("halfday",$(`[name="halfday"]`).val());
	    	  const obj = {};
	    	  for (const [key, value] of formData.entries()) {
	    		  obj[key] = value;
	    	  }
	    	  console.log(obj);
	    	  $('.newleavesubmit').prop("disabled",true);
	    	  $.ajax({
					type : "POST",
					url : "leaverequestsave",
					data : obj, 
					success : function(result) {
						validationformreset(); 
						dt_basic.ajax.reload();
					},
					error : function(e) {
						console.log("Error" + e);
						validationformreset();
						dt_basic.ajax.reload();
					}
				});
	   
	   //------------------------------------------------------------------------ 		
	    		
	    	});
		 
		//--------------------------------------------------------------------------------------------------------------------------------------		 
		

		 function validationformreset()
	   {
   				$('.newleaveclose').click();
   				$('.newleavesubmit').prop("disabled",false);
	   			$('.needs-validation').removeClass("was-validated");
	   			$('.needs-validation').trigger("reset");
	   			 
	   }
		
		

		
   // --------------------------------------------------------------------
   		
   	// --------------------------------------------------------------------
     
  //------------------------------------------------------------------------
  
    // Users List suggestion
    //------------------------------------------------------
    // Date Format
  
	
				 
				
				
				
	
   function halfhaldle(e){
	   
	   console.log($(e.target));
	   if($(e.target).is(':checked'))
		{
		$('.half').show();
		$(e.target).val('1');
		flatpickrFriendly2.setDate('');
		flatpickrFriendly3.setDate('');
		}
	   else
		   {
		    $('.half').hide();
		    $(e.target).val('0');
		    flatpickrFriendly2.setDate('');
			flatpickrFriendly3.setDate('');
		   }
   }
   
   function CancelRequest(id){

       Swal.fire({
           title: 'Are you sure?',
           text: "You won't be able to revert this!",
           icon: 'warning',
           showCancelButton: true,
           confirmButtonText: 'Yes,  Cancel it!',
           customClass: {
               confirmButton: 'btn btn-primary me-3',
               cancelButton: 'btn btn-label-secondary'
           },
           buttonsStyling: false
       }).then(function(result) {
           if (result.value) {
        	   
               var formData = {
                cancelid: id,
               };
               
               $.ajax({
                   type: "POST",
                   url: "requestcancelled",
                   data: formData,
                   success: function(result) {
                    
                       Swal.fire({
                           icon: 'success',
                           title: 'Deleted!',
                           text: 'Request Cancelled.',
                           customClass: {
                               confirmButton: 'btn btn-success'
                           }
                       });
                       
                       dt_basic.ajax.reload();
                       
                   },
                   error: function(e) {
                       console.log("Error" + e);
                   }
               });

           }
       });
		
   }
    </script>
  </body>
</html>