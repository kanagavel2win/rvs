<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="loading" lang="en"
	data-textdirection="ltr">

<!-- BEGIN: Head-->

<head>
<meta name="_csrf" th:content="${_csrf.token}"/>
<!-- default header name is X-CSRF-TOKEN -->
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="ICC">
<title>Project</title>
<link rel="apple-touch-icon"
	th:href="@{/app-assets/images/ico/apple-icon-120.png}">
<link rel="shortcut icon" type="image/x-icon"
	th:href="@{/app-assets/images/ico/favicon.ico}">
<link
	href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,600%7CIBM+Plex+Sans:300,400,500,600,700"
	rel="stylesheet}">
<!-- BEGIN: Vendor CSS-->
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/vendors/css/vendors.min.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/vendors/css/charts/apexcharts.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/vendors/css/extensions/dragula.min.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/vendors/css/forms/select/select2.min.css}">
<!-- END: Vendor CSS-->

<!-- BEGIN: Theme CSS-->
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/css/bootstrap.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/css/bootstrap-extended.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/css/colors.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/css/components.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/css/themes/dark-layout.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/css/themes/semi-dark-layout.css}">
	
<link rel="stylesheet" type="text/css" th:href="@{/app-assets/vendors/css/extensions/dragula.min.css}">
<!-- END: Theme CSS-->

<!-- BEGIN: Page CSS-->
<link rel="stylesheet" type="text/css"
	th:href="@{/app-assets/css/core/menu/menu-types/vertical-menu.css}">
 <link rel="stylesheet" type="text/css" th:href="@{/app-assets/css/plugins/extensions/drag-and-drop.css}">
<!-- END: Page CSS-->

<!-- BEGIN: Custom CSS-->
<link rel="stylesheet" type="text/css"
	th:href="@{/assets/css/style.css}">
<!-- END: Custom CSS-->
<style>
.leftredline
{
	float:left;
	height:30px;
	width:2px;
	background:red;
	margin-left:-5px;
	margin-top:5px;
}
.bxs-error, .bx-landscape,.bxs-smiley-sad
{
float:right;
}

.bxs-smiley-sad
{
	margin-right:-17px;
}
.pop {
	position: absolute;
	right: -20px;
	top: 0px;
	cursor: pointer;
}

.emptitle {
	color: #527a00;
	font-size: 15px;
	line-height: 20px;
	font-weight: 600;
	font-family: Fira Sans, Trebuchet MS, sans-serif;
	cursor: pointer;
}

.card {
	margin-right: 10px;
}

.txttitle{
	border:1px solid #E8E8E8;
	background:#F7F7F7;
	color:#000;
	
}

.addprojectinsection, .addContactmadesection, .addSiteVisitScheduledsection, .addProjectEvaluvatedsection, .addProposalmadesection, .addNegotiationsstartedsection{
	color:#F7F7F7;
	font-size:18px;
}

.addprojectinsection:hover, .addContactmadesection:hover, .addSiteVisitScheduledsection:hover, .addProjectEvaluvatedsection:hover, .addProposalmadesection:hover, .addNegotiationsstartedsection:hover{
	color:#BFBFBF;
	background:#EBEBEB;
}

#div1:hover > .addprojectinsection, #div2:hover > .addContactmadesection, #div3:hover > .addSiteVisitScheduledsection, #div4:hover > .addProjectEvaluvatedsection, #div5:hover > .addProposalmadesection, #div6:hover > .addNegotiationsstartedsection {
	color:#BFBFBF;
	
}

.dragdiver
{
border:1px solid #ccc;
margin-top:3px;
padding: 5px;
border-radius:0px;
line-height: 15px;
font-size:12px;
background:#fff;
min-height:50px;
}
.dragdiver:active{
background:#F2F2F2;
}


.droptarget{
background:#F7F7F7;
border:0px solid #ccc;
}
.line1
{
	font-size:13px;
	font-weight:bold;
}
.titleline1
{
	font-size:11px;
}
.titleline2
{
	font-size:11px;
}
.line3
{
	font-size:10px;
	
}

#infoi {
	
	 position: absolute;
	  top: 91%;
	  left: 27px;
	  z-index: 10;
}
.Delivereddiv{
color:red;
}
.Reviewdiv{
color:green;
}
.Delivereddiv,.Reviewdiv,.backtodiv
{
	 padding-top:15px;
	text-align:center;
	vertical-align:middle;
	height:50px;
	min-height: 50px;	
	width:100%;
}
#handle-list-1, #handle-list-2, #handle-list-3, #handle-list-4, #handle-list-5, #handle-list-6, #handle-list-7, #handle-list-8{
	float: left;
	width: 200px;
	height: 335px;	
	overflow-Y:auto;
	padding: 2px;
	border: 0px solid #ccc;
	position: static;
}



.table-responsive {
	
	overflow: auto;
}
a 
{
color:#727E8C;
}

.new{
border-radius:0px;
padding:3px;
background:green;
color:#fff;
font-size:10px;
}

.red{
color:red;
}

.green{
color:green;
}

</style>
<style type="text/css">
a.tooltip {
	position: relative;
	text-decoration: none;
	color: blue;
}

a.tooltip span {
	display: none;
}

a.tooltip:hover span {
	position: absolute;
	top: 40px;
        font-size: 40px;
	left: 0px;
	display: block;
	width: 250px;
	color: black;
	background-color: #FFFF40;
	border: 1px solid black;
	padding: 5px;
}
</style>



</head>
<!-- END: Head-->

<!-- BEGIN: Body-->

<body
	class="vertical-layout vertical-menu-modern boxicon-layout no-card-shadow 2-columns  navbar-sticky footer-static  "
	data-open="click" data-menu="vertical-menu-modern" data-col="2-columns">

	<!-- BEGIN: Header-->
	<div th:insert="header"></div>
	<!-- END: Header-->


	<!-- BEGIN: Main Menu-->
	<div th:insert="menu"></div>
	<!-- END: Main Menu-->

	<!-- BEGIN: Content-->
	<!-- BEGIN: Content-->
	<div class="app-content content">
		<div class="content-overlay"></div>
		<div class="content-wrapper">
			<div class="content-header row">
				<div class="content-header-left col-12 mb-2 mt-1">
					<div class="row breadcrumbs-top">
						<div class="col-12">
							
							<h5 class="content-header-title float-left pr-1 mb-0">Project</h5>

							<div class="breadcrumb-wrapper col-12">
								<ol class="breadcrumb p-0 mb-0">
									<li class="breadcrumb-item"><a href="index"><i
											class="bx bx-home-alt"></i></a></li>

								</ol>
<button type="button" class="btn btn-warning mr-1 mb-1 pop">Add
									Project</button>
							</div>

						</div>
					</div>
				</div>
			</div>
			<div class="content-body">
 <a class="tooltip" href="#">this text<span>This help text is shown in the tooltip. It spans multiple lines and works in all browsers.</span>sds</a>sdsd
										
				<!-- Basic Vertical form layout section start -->
				<section id="basic-vertical-layouts">
					<div class="row match-height">
						<div class="col-12">
							<div class="card">
								<div class="card-content">
									<div class="card-body">
											
										<!--scrolling content Modal -->
										<div class="modal fade" id="peopleStatusScrollable"
											tabindex="-1" role="dialog"
											aria-labelledby="peopleStatusScrollableTitle"
											aria-hidden="true">
											<div class="modal-dialog modal-dialog-scrollable"
												role="document">
												<div class="modal-content">
													<div class="modal-header bg-warning">
														<h5 class="modal-title white"
															id="peopleStatusScrollableTitle">Project Information</h5>
														<button type="button" class="close" data-dismiss="modal"
															aria-label="Close">
															<i class="bx bx-x"></i>
														</button>
													</div>
													<div class="modal-body">
														<div class="row">

															
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">Title</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">
																			<input type="text" id="Title"
																				class="form-control form-control-sm capitalize">
																			<div class="form-control-position">
																				<i class="bx bx-task"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">Start Date</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">

																			<input type="date" id="startdate"
																				class="form-control form-control-sm capitalize">
																			<div class="form-control-position">
																				<i class="bx bxs-calendar"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">End Date</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">

																			<input type="date" id="enddate"
																				class="form-control form-control-sm capitalize">
																			<div class="form-control-position">
																				<i class="bx bxs-calendar-check"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">Pipeline</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">

																			<select
																				class="form-control form-control-sm"
																				id="pipeline">
																				<option value="Unscheduled">Unscheduled</option>
																				<option value="Scheduled">Scheduled</option>
																				<option value="kick-off">kick-off</option>
																				<option value="Planning">Planning</option>
																				<option value="Field Work">Field Work</option>
																				<option value="Drawing">Drawing</option>
																				<option value="Review">Review</option>
																				<option value="Devlived">Delivered</option>

																			</select>
																			<div class="form-control-position">
																				<i class="bx bx-label"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-12">
																<div class="form-group">
																	<label for="addmodel">Follower</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">
																			<select
																				class="select2 followers form-control form-control-sm"
																				id="followers" multiple="multiple">
																				<th:block th:each="str :${employeelist}">
																					<option th:value="${str.empMasterid}"
																						th:text="${str.StaffName}"></option>
																				</th:block>
																			</select>

																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-12">
																<div class="form-group">
																	<hr />
																	<label class="emptitle">Linked To</label>
																</div>
															</div>
															<div class="col-md-12">
																<div class="form-group">
																	<label for="email-id-icon">Deal</label>

																	<div class="position-relative has-icon-left">
																		<fieldset class="form-group">
																			<select
																				class="select2 form-control form-control js-example-tags"
																				 style="width: 100%;" id="deal">
																				<th:block th:each="str :${personorgls}">
																					<option
																						th:value="${#strings.arraySplit(str,'|')[0]} +'-' + ${#strings.arraySplit(str,'|')[2] }"
																						th:text="${#strings.arraySplit(str,'|')[1]} +'[' + ${#strings.arraySplit(str,'|')[3] +']'}"></option>
																				</th:block>

																			</select>

																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-12">
																<div class="form-group">
																	<label for="email-id-icon">Contact Person
																	<div class="spinner-border spinner-border-sm text-primary" role="status" style="visibility:hidden">
						                                                <span class="sr-only">Loading...</span>
						                                            </div>
																	</label>

																	<div class="position-relative has-icon-left">
																		<fieldset class="form-group">
																			<select
																				class="select2 form-control form-control js-example-tags"
																				multiple="multiple" style="width: 100%;" id="ContactPerson">
																				<th:block th:each="str :${personorgls}">
																					<option
																						th:value="${#strings.arraySplit(str,'|')[0]} +'-' + ${#strings.arraySplit(str,'|')[2] }"
																						th:text="${#strings.arraySplit(str,'|')[1]} +'[' + ${#strings.arraySplit(str,'|')[3] +']'}"></option>
																				</th:block>

																			</select>

																		</fieldset>
																	</div>
																</div>
															</div>


															<div class="col-md-12">
																<div class="form-group">
																	<label for="addmodel">Organization </label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">

																			<select
																				class="select2 form-control form-control js-example-tags"
																				id="Organization" multiple="multiple"
																				style="width: 100%;"> 
																				<th:block th:each="str :${organizationlist}">
																	
																					<option  th:value="${str.id}"  th:text="${str.orgname}"></option>
																				</th:block>
																			</select>


																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">Label</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">

																			<select
																				class="form-control form-control-sm"
																				id="label">
																				<option value="To-Do">To-Do</option>
																				<option value="In Progress">In Progress</option>
																				<option value="On Hold">On Hold</option>
																				
																			</select>
																			<div class="form-control-position">
																				<i class="bx bx-label"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">Description</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">

																			<input type="text" id="Description"
																				class="form-control form-control-sm capitalize">
																			<div class="form-control-position">
																				<i class="bx bx-label"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-12">
																<div class="form-group">
																	<hr />
																	<label class="emptitle">Assign To User</label>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">Branch</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">

																			<select
																				class="form-control form-control-sm"
																				id="branch">
																				<option value="">-</option>
																				<th:block th:each="str :${branchlist}">
																					<option  th:value="${str.id}"  th:text="${str.BRANCH_NAME}"></option>
																				</th:block>
																			</select>
																			<div class="form-control-position">
																				<i class="bx bx-git-branch"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label for="addmodel">User</label>
																	<div class="position-relative  has-icon-left">
																		<fieldset class="form-group">
																			<select
																				class="form-control form-control-sm"
																				id="assigntouser">
																				
																			</select>
																			<div class="form-control-position">
																				<i class="bx bxs-user"></i>
																			</div>
																		</fieldset>
																	</div>
																</div>
															</div>


														</div>

													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-light-secondary"
															data-dismiss="modal">
															<i class="bx bx-x d-block d-sm-none"></i> <span
																class="d-none d-sm-block">Close</span>
														</button>
														<button type="button" class="btn btn-primary ml-1" id="saveproject">
															<i class="bx bx-check d-block d-sm-none"></i> <span
																class="d-none d-sm-block">ADD</span>
														</button>
														<div class="spinner-border spinner-border-sm text-primary" role="status" style="visibility:hidden">
						                                                <span class="sr-only">Loading...</span>
						                                            </div>
													</div>
												</div>
											</div>
										</div>
										<!--scrolling content Modal -->

										<!--scrolling content Modal -->
										<div class="modal fade" id="additemStatusScrollable"
											tabindex="-1" role="dialog"
											aria-labelledby="additemStatusScrollableTitle"
											aria-hidden="true">
											<div class="modal-dialog modal-dialog-scrollable"
												role="document">
												<div class="modal-content">
													<div class="modal-header bg-primary">
														<h5 class="modal-title white"
															id="additemStatusScrollableTitle"></h5>
														<button type="button" class="close" data-dismiss="modal"
															aria-label="Close">
															<i class="bx bx-x"></i>
														</button>
													</div>
													<div class="modal-body">
														<div class="col-md-12">
															<div class="form-group">
																<label for="addmodel" id="additemalltxt"></label>
																<div class="position-relative">
																	<fieldset class="form-group">
																		<input type="text" id="additemtxt" name="addmodel"
																			class="form-control capitalize">
																	</fieldset>
																</div>
															</div>
														</div>

													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-light-secondary"
															data-dismiss="modal">
															<i class="bx bx-x d-block d-sm-none"></i> <span
																class="d-none d-sm-block">Close</span>
														</button>
														<button type="button" class="btn btn-primary ml-1"
															id="additemallsavebtn">
															<i class="bx bx-check d-block d-sm-none"></i> <span
																class="d-none d-sm-block">ADD</span>
														</button>
													</div>
												</div>
											</div>
										</div>
										<!--scrolling content Modal -->
									
									
									<!--scrolling content Modal -->
										<div class="modal fade" id="saveresultStatusScrollable"
											tabindex="-1" role="dialog"
											aria-labelledby="saveresultStatusScrollableTitle"
											aria-hidden="true">
											<div class="modal-dialog modal-dialog-scrollable"
												role="document">
												<div class="modal-content">
													<div class="modal-header bg-primary">
														<h5 class="modal-title white"
															id="saveresultStatusScrollableTitle"></h5>
														<button type="button" class="close" data-dismiss="modal"
															aria-label="Close">
															<i class="bx bx-x"></i>
														</button>
													</div>
													<div class="modal-body">
														<div class="col-md-12">
															<div class="form-group" align="center" id="saveresult">
																 <div class="spinner-border spinner-border-sm text-primary" role="status">
						                                                <span class="sr-only">Loading...</span>
						                                            </div>
															</div>
														</div>

													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-light-secondary" id="resultclose">
															<i class="bx bx-x d-block d-sm-none"></i> <span
																class="d-none d-sm-block">Close</span>
														</button>
													
													</div>
												</div>
											</div>
										</div>
										<!--scrolling content Modal -->
										
										 
										<div class="table-responsive">
											<!-- ----Start Drag & Drop -->
											<table>
												<tr>
													<td>
														<div class="col-12 txttitle">Unscheduled
															<br/>
															<span class="titleline1">Rs : <span id="1rs"></span></span>
															<span class="titleline2">Projects : <span id="1nosprojects"></span></span> 
														</div>
														<div class="col3">
 															
															<div id="handle-list-1" class="droptarget">
																
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='Unscheduled'">
																		
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block>
																		
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																			
																			
																		
																			 
																			
																		</div></a>
																		
																	</th:block>	
																</th:block>
																<!--- <button class="col-12 btn addprojectinsection">+</button> -->
																	
															</div>
															
														</div>
													</td>
													<td>
														<div class="col-12 txttitle">Scheduled
														<br/>
															<span class="titleline1">Rs : <span id="2rs"></span></span>
															<span class="titleline2">Projects : <span id="2nosprojects"></span></span> 
														</div>
														<div class="col3">

															<div id="handle-list-2" class="droptarget">
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='Scheduled'">
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block> 
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																			
																			 
																			
																		</div></a>
																		
																	</th:block>	
																</th:block>
															<!-- <button class="col-12 btn addContactmadesection">+</button> -->	
															</div>
														</div>
													</td>
													<td>
														<div class="col-12 txttitle">kick-off
														<br/>
															<span class="titleline1">Rs : <span id="3rs"></span></span>
															<span class="titleline2">Projects : <span id="3nosprojects"></span></span> 
														</div>
														<div class="col3">
															<div id="handle-list-3" class="droptarget">
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='kick-off'">
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block> 
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																			
																			
																			 
																			
																		</div></a>
																	</th:block>	
																</th:block>
															<!-- <button class="col-12 btn addSiteVisitScheduledsection">+</button> -->	
															</div>
														</div>
													</td>
													<td>
														<div class="col-12 txttitle">Planning
															<br/>
															<span class="titleline1">Rs : <span id="4rs"></span></span>
															<span class="titleline2">Projects : <span id="4nosprojects"></span></span> 
														</div>
														<div class="col3">
															<div id="handle-list-4" class="droptarget">
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='Planning'">
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block> 
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																		
																		</div></a>
																	</th:block>	
																</th:block>
															<!-- <button class="col-12 btn addProjectEvaluvatedsection">+</button> -->	
															</div>
														</div>
													</td>
													<td>
														<div class="col-12 txttitle">Field Work
															<br/>
															<span class="titleline1">Rs : <span id="5rs"></span></span>
															<span class="titleline2">Projects : <span id="5nosprojects"></span></span> 
														</div>
														<div class="col3">
															<div id="handle-list-5" class="droptarget">
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='Field Work'">
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block> 
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																			
																		</div></a>
																	</th:block>	
																</th:block>
															<!-- <button class="col-12 btn addProposalmadesection">+</button> -->	
															</div>
														</div>
													</td>
													<td>
														<div class="col-12 txttitle">Drawing
															<br/>
															<span class="titleline1">Rs : <span id="6rs"></span></span>
															<span class="titleline2">Projects : <span id="6nosprojects"></span></span> 
														</div>
														<div class="col3">
															<div id="handle-list-6" class="droptarget">
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='Drawing'">
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block> 
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																			
																			
																		</div></a>
																	</th:block>	
																</th:block>
																	
															</div>
														</div>
													</td>
													<td>
														<div class="col-12 txttitle">Review
															<br/>
															<span class="titleline1">Rs : <span id="7rs"></span></span>
															<span class="titleline2">Projects : <span id="7nosprojects"></span></span> 
														</div>
														<div class="col3">
															<div id="handle-list-7" class="droptarget">
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='Review'">
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block> 
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																			
																			
																		</div></a>
																	</th:block>	
																</th:block>
																	
															</div>
														</div>
													</td>
													<td>
														<div class="col-12 txttitle">Delivered
															<br/>
															<span class="titleline1">Rs : <span id="8rs"></span></span>
															<span class="titleline2">Projects : <span id="8nosprojects"></span></span> 
														</div>
														<div class="col3">
															<div id="handle-list-8" class="droptarget">
																<th:block th:each="obj,stat :${projectmasterlist}">
																	<th:block th:if="${obj.pipeline} =='Delivered'">
																		<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				
																				<a th:href="'projectevents?id=' + ${obj.id}" class="tooltip-light"  data-toggle="tooltip" th:title="'Delayed - ' +${hispendingmap.get(obj.id)}"> 
																		</th:block>
																		<th:block th:if="${hispendingmap.get(obj.id)} == null">
																				<a th:href="'projectevents?id=' + ${obj.id}"> 
																		</th:block> 
																		
																		<div class="dragdiver handle"  onmousedown="mouseDown()" onmouseup="mouseUp()" th:id="'projectin'+ ${stat.index}" >
												
																			<th:block th:unless="${hispendingmap.get(obj.id)} == null">
																				<div class="leftredline">																			
																				</div>
																			</th:block>
																			<input type="hidden" class='projectsids' th:value="${obj.id}" />
																			
																			<span class="line1" th:text="${obj.Title}"> </span>
																			<th:block th:if="${#strings.arraySplit(obj.createddate,' ')[0] == todaydate }">
																			 <span class="new">New</span> 
																			</th:block>
																			<th:block th:unless="${nextactmap.get(obj.id)} == null" >
																				<th:block th:if="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																				</th:block>
																				<th:block th:unless="${nextactmap.get(obj.id)} == 'No' ">
																				 	<i class="green bx bx-landscape tooltip-light"  data-toggle="tooltip" th:title="${nextactmap.get(obj.id)}" ></i>
																				</th:block>
																			</th:block>
																			<th:block th:if="${nextactmap.get(obj.id)} == null" >
																				<i class="red bx bxs-error tooltip-light"  data-toggle="tooltip" title="No Activity" ></i>
																			</th:block>
																			<br/>
																			
																			<span class="line3" th:text="'Rs : ' + ${maptotalamt.get(obj.id)}"> </span>
																			
																			
																		</div></a>
																	</th:block>	
																</th:block>
																	
															</div>
														</div>
													</td>
													
												</tr>
											</table>
											
											<!-- ----End Drag & Drop -->
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
				<!-- // Basic Vertical form layout section end -->


			</div>
		</div>
	</div>
	<!-- END: Content-->



	<div class="sidenav-overlay"></div>
	<div class="drag-target"></div>

	<!-- BEGIN: Footer-->
	<footer class="footer footer-static footer-light">
		<p class="clearfix mb-0">
			<span class="float-left d-inline-block"></span><span
				class="float-right d-sm-inline-block d-none"></span>
			<button class="btn btn-primary btn-icon scroll-top" type="button">
				<i class="bx bx-up-arrow-alt"></i>
			</button>
		</p>
	</footer>
	<!-- END: Footer-->


	<!-- BEGIN: Vendor JS-->
	<script th:src="@{/app-assets/vendors/js/vendors.min.js}"></script>

	<!-- BEGIN: Page Vendor JS-->
	<script
		th:src="@{/app-assets/vendors/js/forms/select/select2.full.min.js}"></script>
	<script
		th:src="@{/app-assets/vendors/js/forms/validation/jquery.validate.min.js}"></script>
	    <script th:src="@{/app-assets/vendors/js/extensions/dragula.min.js}"></script>
	<!-- END: Page Vendor JS-->

	<!-- BEGIN: Theme JS-->
	<script th:src="@{/app-assets/js/core/app-menu.js}"></script>
	<script th:src="@{/app-assets/js/core/app.js}"></script>
	<script th:src="@{/app-assets/js/scripts/components.js}"></script>
	<script th:src="@{/app-assets/js/scripts/footer.js}"></script>
	<!-- END: Theme JS-->

	<!-- BEGIN: Page JS-->

	<script th:src="@{/app-assets/js/scripts/forms/select/form-select2.js}"></script>
	<script th:src="@{/app-assets/js/scripts/tooltip/tooltip.js}"></script>   
	<!-- END: Page JS-->

	<script>
	
	/* Events fired on the drag target */

/*	document.addEventListener("dragstart", function(event) {
	  event.dataTransfer.setData("Text", event.target.id);
	  event.target.style.opacity = "0.4";
	});

	document.addEventListener("dragend", function(event) {
	  event.target.style.opacity = "1";
	  //alert('df');
	});

	document.addEventListener("dragenter", function(event) {
	  if ( event.target.className == "droptarget" ) {
	    event.target.style.background = "#eee";
		
	  }
	});

	document.addEventListener("dragover", function(event) {
	  event.preventDefault();
	});

	document.addEventListener("dragleave", function(event) {
	  if ( event.target.className == "droptarget" ) {
	    event.target.style.background = "#F7F7F7";
			
	  }
	});

	document.addEventListener("drop", function(event) {
//	  event.preventDefault();
	  if ( event.target.className == "droptarget" ) {
	    event.target.style.background = "#F7F7F7";
		
	    var data = event.dataTransfer.getData("Text");
	    
	    event.target.appendChild(document.getElementById(data));
	  }
	});*/
	</script>
	<script>
			$(document).ready(
					function() {
						//--------------------------------------------------------------------------------------------------------------------------------------
						 $('[data-toggle="popover"]').popover();  
						//-------------------------------------------------------------------------------------------------------------------------------------- 
						$(document).on("click", ".pop", function() {
	
							$('#peopleStatusScrollable').modal('toggle');
	
						});
						//--------------------------------------------------------------------------------------------------------------------------------------		 		
	
						$(function() {
							var token = $("meta[name='_csrf']").attr("content");
							var header = $("meta[name='_csrf_header']").attr("content");
							$(document).ajaxSend(function(e, xhr, options) {
								xhr.setRequestHeader(header, token);
							});
						});
						//--------------------------------------------------------------------------------------------------------------------------------------		 
						
						$(document).on("click", ".additem", function() {
	
							var name = $(this).attr('name');
							var labeltext = "";
							if (name == "addsourcedata") {
								labeltext = "New Source";
							}
							else if (name == "addPurposedata") {
								labeltext = "New Purpose";
							}
	
							$('#additemalltxt').text(labeltext);
							$('#additemStatusScrollable').modal('toggle');
	
						});
						//-----------------------------------------------------------
						$("#additemallsavebtn").click(
								function() {
									if ($("#additemall").val() != '') {
										var name = $('#additemalltxt').text();
										var labeltext = "";
										if (name == "New Source") {
											labeltext = "addsourcedata";
										}
										if (name == "New Purpose") {
											labeltext = "addPurposedata";
										}
	
										$('.' + labeltext).append(
												"<option value='"
														+ $("#additemtxt").val()
														+ "'>"
														+ $("#additemtxt").val()
														+ "</option>");
										$("#additemall").val('');
										$('#additemStatusScrollable').modal(
												'toggle');
									}
								});
	
						//------------------------------------------------------------
						$("#ContactPerson").change(function(){
							var selectval = $(this).find(":selected").val();
							if(selectval.indexOf("-") !== -1)
							{
							$('#Organization').val(selectval.split('-')[1]).change();
							 var personid=selectval.split('-')[0];
							 $(".spinner-border").css("visibility","visible");
							 //---------------------------------------------------------------------------
							 var formData = {
									 personid : personid
							 }
							 $.ajax({
									type : "POST",url : "contactpersondetails",
									data : formData, success : function(result) {
										
											var arr =result.split("|");
									      $('#phonework').val(arr[0].trim());
									      $('#phonepersonal').val(arr[1].trim());
									      $('#phoneothers').val(arr[2].trim());
									      $('#emailwork').val(arr[3].trim());
									      $('#emailpersonal').val(arr[4].trim());
									      $('#emailothers').val(arr[5].trim());
									      $('#followers').val(arr[6].trim().split(',')).change();
									      
									      
									      $(".spinner-border").css("visibility","hidden");
									},
									error : function(e) {
										console.log("Error" + e);
										$(".spinner-border").css("visibility","hidden");
									}
									
								});
							 //---------------------------------------------------------------------------
							}
						});
						
						$("#Organization").change(function(){
							//$('#Title').val($(this).find(":selected").text() + ' Project');
							
						});
						//------------------------------------------------------------
						$("#saveproject").click(function(){
						 
							   var ContactPerson = String($("#ContactPerson").val());
							   var Title= $("#Title").val();
							   
							   if(ContactPerson !="" && Title !="" )
							  {
								  $('#peopleStatusScrollable').modal('toggle');
								  $('#saveresultStatusScrollable').modal('toggle');
								  					  
								   var ContactPersontemp="";
								   var split1=ContactPerson.split(",");
								   $.each(split1, function(index, value) { 
								   
									   if(value.includes("-"))
								  		{
										   var split2=value.split("-");
										   ContactPersontemp +=split2[0]+",";
								  		}else
							  			{
								  			ContactPersontemp +=value +",";
							  			}
								   
								   });
								   
								   ContactPersontemp =ContactPersontemp.substring(0,ContactPersontemp.length-1); 
								  
								   
								   
								   var startdate= $("#startdate").val();
								   var enddate= $("#enddate").val();
								   var pipeline= $("#pipeline").val();
								   var followers= String($("#followers").val());
								   var deal= $("#deal").val();
								   var Organization =String($("#Organization").val());
								   var Description= $("#Description").val();
								   var label= $("#label").val();
								   var branch= $("#branch").val();
								   var assigntouser= String($("#assigntouser").val());	
								 
								   var formData = {
										   ContactPerson:String(ContactPersontemp),
										   Organization : String(Organization),
										   Title:Title,
										   startdate:startdate,
										   enddate:enddate,
										   pipeline:pipeline,
										   followers:String(followers),
										   deal:deal,
										   Description:Description,
										   label:label,
										   branch:branch,
										   assigntouser:String(assigntouser)
										   
									 }
								   
								   
									   $.ajax({
											type : "POST",url : "projectsavestage1",
											data : formData, success : function(result) {
											      
											      $(".spinner-border").css("visibility","hidden");
											      $('#saveresult').text("Save Successfully");
											},
											error : function(e) {
												console.log("Error" + e);
												$(".spinner-border").css("visibility","hidden");
												$('#saveresult').text(e);
											}
											
										}); 
								   
							  }else
							  {
								  alert("Contact Person  & Title is mandatory");
							  }
						});
						//------------------------------------------------------------
						$('#resultclose').click(function(){
							$('#saveresultStatusScrollable').modal('toggle');
							location.reload();
						});
						
						//------------------------------------------------------------
						// Handle Drag and drop
						 var drake= dragula([document.getElementById("handle-list-1"), document.getElementById("handle-list-2"), document.getElementById("handle-list-3"), document.getElementById("handle-list-4"), document.getElementById("handle-list-5"), document.getElementById("handle-list-6"), document.getElementById("handle-list-7"), document.getElementById("handle-list-8"), document.getElementById("handle-list-9")], {
						    moves: function (el, container, handle) {
						      return handle.classList.contains('handle');
						    },
						  
						  });
						
						 drake.on('drag', function (el) {
							 el.className = el.className.replace('ex-moved', '');	
							 el.className += ' ex-moved';
							 $("#infoi").css("visibility","visible");
						 });
						  
						 drake.on('drop', function (el,container) {
						    	container.className =  container.className += ' ex-over';
						    	$("#infoi").css("visibility","visible");
						    	updateprojectdashboard();
						    	dbupdate();
						    });
						 
						 drake.on('over', function (el,container) {
							 $("#infoi").css("visibility","visible");
						    	
						    });
						 drake.on('out', function (el,container) {
						    	$("#infoi").css("visibility","hidden");
						    	
						    });
						 
						 function mouseDown() {
							 //$("#infoi").css("visibility","visible");
						}

						function mouseUp() {
							//$("#infoi").css("visibility","visible");
						}
						//------------------------------------------------------------
							
						 function updateprojectdashboardexecute(eleid, rsid, nosprojectsid){
							 var div = document.getElementById(eleid);
							 let u=0;
							 let rs=0;
							 $(div).find('.line3')
							         .each(function() {
							        	 rs += parseInt($(this).text().replace("Rs : ",""));
							             u++;
							         });
							
							 $("#"+rsid).text(rs);
							 $("#"+nosprojectsid).text(u);
							}
						 function updateprojectdashboarddbexecute(eleid, txt){
							 var div = document.getElementById(eleid);
							 let ids="";
							 
							 $(div).find('.projectsids')
							         .each(function() {
							        	 ids += $(this).val()+ ",";
							             
							         });
							 
							 if(ids.length>1)
							 {
								 ids=ids.substring(0,ids.length-1);
								  var formData = {
										 ids:ids,
										 txt:txt
									 }
								    $.ajax({
											type : "POST",url : "projectsavestage3",
											data : formData, success : function(result) {
											},
											error : function(e) {
												console.log("Error" + e);
											}
										});  
								 
							 }
							
							}
						 
						 
						 function updateprojectdashboarddbexecuteforDeliveredbacktolead(eleid, txt){
							 var div = document.getElementById(eleid);
							 let ids="";
							 
							 $(div).find('.projectsids')
							         .each(function() {
							        	 ids += $(this).val()+ ",";
							             
							         });
							 
							 if(ids.length>1)
							 {
								 ids=ids.substring(0,ids.length-1);
								  var formData = {
										 ids:ids,
										 txt:txt,
										 notes:""
									 }
								    $.ajax({
											type : "POST",url : "projectsavestage3",
											data : formData, success : function(result) {
											},
											error : function(e) {
												console.log("Error" + e);
											}
										});  
								 
							 }
							
							}
						 
						 function updateprojectdashboarddbexecutewithcomments(eleid, txt){
								 var div = document.getElementById(eleid);
								 let ids="";
								 
								 $(div).find('.projectsids')
								         .each(function() {
								        	 ids += $(this).val()+ ",";
								             
								         });
								 
								 if(ids.length>1)
								 {
									 ids=ids.substring(0,ids.length-1);
									 $(".Deliveredtitle").text(txt);
									 $(".Deliveredid").val(ids);
									 $('#DeliveredbacktoleadinfoScrollable').modal('toggle');
								 }
							
							}
						 
						 $("#Deliveredbacktoleadsave").click(function(){
							  let Deliveredid= $(".Deliveredid").val();
							  let Deliveredcomments= $(".Deliveredcomments").val();
							  let Deliveredtitle= $(".Deliveredtitle").text().trim();
							  
							  var formData = {
									 ids:Deliveredid,
									 txt:Deliveredtitle,
									 notes:Deliveredcomments
								 }
							    $.ajax({
										type : "POST",url : "projectsavestage3",
										data : formData, success : function(result) {
											$('#DeliveredbacktoleadinfoScrollable').modal('toggle');
											alert("Item moved to " +Deliveredtitle);
											$("#handle-list-7").html("Delivered");
											$("#handle-list-9").html("Back To Lead");
										},
										error : function(e) {
											console.log("Error" + e);
											
										}
									});  
						 	//--------------------------------------
						 	// Back to lead
						 	if(Deliveredtitle == "Back To Lead")
					 		{
						 			var formData = {
										 ids:Deliveredid
										 
									 }
								    $.ajax({
											type : "POST",url : "convertolead",
											data : formData, success : function(result) {
												
												
											},
											error : function(e) {
												console.log("Error" + e);
												
											}
										}); 
					 		
					 		}
						 });
						  
						 
						 $("#branch").change(function(){
							  let branch= $("#branch option:selected").text();
							  var formData = {
									  branchname:branch
								 }
							    $.ajax({
										type : "POST",url : "getEmployeelistbasedonbranch",
										data : formData, success : function(result) {
											$("#assigntouser").html(result);
										},
										error : function(e) {
											console.log("Error" + e);
										}
									});  
						 	//--------------------------------------
						 	
						 });
						  
						 function updateprojectdashboard(){
							 updateprojectdashboardexecute("handle-list-1","1rs","1nosprojects");
							 updateprojectdashboardexecute("handle-list-2","2rs","2nosprojects");
							 updateprojectdashboardexecute("handle-list-3","3rs","3nosprojects");
							 updateprojectdashboardexecute("handle-list-4","4rs","4nosprojects");
							 updateprojectdashboardexecute("handle-list-5","5rs","5nosprojects");
							 updateprojectdashboardexecute("handle-list-6","6rs","6nosprojects");
							 updateprojectdashboardexecute("handle-list-7","7rs","7nosprojects");
							 updateprojectdashboardexecute("handle-list-8","8rs","8nosprojects");
							 
							 
							}
						
						 function dbupdate(){
							 updateprojectdashboarddbexecute("handle-list-1","Unscheduled");
							 updateprojectdashboarddbexecute("handle-list-2","Scheduled");
							 updateprojectdashboarddbexecute("handle-list-3","kick-off");
							 updateprojectdashboarddbexecute("handle-list-4","Planning");
							 updateprojectdashboarddbexecute("handle-list-5","Field Work");
							 updateprojectdashboarddbexecute("handle-list-6","Drawing");
							 updateprojectdashboarddbexecute("handle-list-7","Review");
							 updateprojectdashboarddbexecute("handle-list-8","Delivered");
							 
						 }
						 updateprojectdashboard();
						 
						 
						//------------------------------------------------------------
							
					});
		</script>
		<script>
			$(".js-example-tags").select2({
				tags : true
			});
		</script>
</body>
<!-- END: Body-->

</html>




