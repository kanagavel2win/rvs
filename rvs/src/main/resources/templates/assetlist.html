<!DOCTYPE html>

<html
  xmlns:th="http://www.thymeleaf.org" 
  lang="en"
  class="light-style layout-navbar-fixed layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  th:data-assets-path="@{/assets/}"
  data-template="vertical-menu-template"
  
>
  <head>
	<meta name="_csrf" th:content="${_csrf.token}" />
	<!-- default header name is X-CSRF-TOKEN -->
	<meta name="_csrf_header" th:content="${_csrf.headerName}" />

    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Leave Approval</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" th:href="@{/assets/img/favicon/favicon.ico}" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet" type="text/css"
    />

    <!-- Icons -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/fonts/boxicons.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/fonts/fontawesome.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/fonts/flag-icons.css}" />

    <!-- Core CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/css/rtl/core.css}" class="template-customizer-core-css" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/css/rtl/theme-default.css}" class="template-customizer-theme-css" />
    <link rel="stylesheet" type="text/css" th:href="@{/assets/css/demo.css}" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/typeahead-js/typeahead.css}" />
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-select-bs5/select.bootstrap5.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-fixedcolumns-bs5/fixedcolumns.bootstrap5.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/libs/datatables-fixedheader-bs5/fixedheader.bootstrap5.css}">
	
	 <link rel="stylesheet" th:href="@{/assets/vendor/libs/flatpickr/flatpickr.css}">
    <!-- Page CSS -->

    <!-- Helpers -->
    <script th:src="@{/assets/vendor/js/helpers.js}"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Template customizer: To hide customizer set displayCustomizer value false in config.js.  -->
    <script th:src="@{/assets/vendor/js/template-customizer.js}"></script>
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script th:src="@{/assets/js/config.js}"></script>
    <style>
    
    
    </style>
  </head>

  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->
		<div th:insert="menu"></div>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

       <div th:insert="header"></div>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->
				 <div class="container-xxl flex-grow-1 container-p-y">
              <h4 class="py-3 breadcrumb-wrapper mb-4"><span class="text-muted fw-light">Administration/Asset/ </span>Asset List</h4>

 
 <div class="card">
                <div class="card-datatable table-responsive pt-0">
                  <table class="datatables-basic table table-bordered">
                    <thead>
                      <tr>
                       
                    <th>#</th>
					<th>Asset Type</th>
					<th>Asset Name</th>
					<th>Branch</th>
					<th>Status</th>
					<th>Custodian</th>
					<th>Last Update</th>
                        
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
              
              

             
             

            <!-- Footer -->
            <footer class="content-footer footer bg-footer-theme">
              <div class="container-fluid d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
                <div class="mb-2 mb-md-0">
                  Â©
                  <script>
                    document.write(new Date().getFullYear());
                  </script>
                  , made with â¤ï¸ by
                  <a href="https://pixinvent.com" target="_blank" class="footer-link fw-semibold">PIXINVENT</a>
                </div>
                <div>
                  <a href="https://themeforest.net/licenses/standard" class="footer-link me-4" target="_blank"
                    >License</a
                  >
                  <a href="https://1.envato.market/pixinvent_portfolio" target="_blank" class="footer-link me-4"
                    >More Themes</a
                  >

                  <a
                    href="https://pixinvent.com/demo/frest-clean-bootstrap-admin-dashboard-template/documentation-bs5/"
                    target="_blank"
                    class="footer-link me-4"
                    >Documentation</a
                  >

                  <a href="https://pixinvent.ticksy.com/" target="_blank" class="footer-link d-none d-sm-inline-block"
                    >Support</a
                  >
                </div>
              </div>
            </footer>
            <!-- / Footer -->

            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>

      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->

    <!-- Core JS -->
  <!-- build:js assets/vendor/js/core.js -->
  <script th:src="@{/assets/vendor/libs/jquery/jquery.js}"></script>
  <script th:src="@{/assets/vendor/libs/popper/popper.js}"></script>
  <script th:src="@{/assets/vendor/js/bootstrap.js}"></script>
  <script th:src="@{/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js}"></script>
  
  <script th:src="@{/assets/vendor/libs/hammer/hammer.js}"></script>
  

  <script th:src="@{/assets/vendor/libs/i18n/i18n.js}"></script>
  <script th:src="@{/assets/vendor/libs/typeahead-js/typeahead.js}"></script>
  
  <script th:src="@{/assets/vendor/js/menu.js}"></script>
  <!-- endbuild -->
<script th:src="@{/assets/vendor/libs/flatpickr/flatpickr.js}"></script>

<script th:src="@{/assets/vendor/libs/moment/moment.js}"></script>
  <!-- Vendors JS -->
  <script th:src="@{/assets/vendor/libs/datatables/jquery.dataTables.js}"></script>
  <script th:src="@{/assets/vendor/libs/datatables-bs5/datatables-bootstrap5.js}"></script>
  <script th:src="@{/assets/vendor/libs/datatables-fixedcolumns/datatables.fixedcolumns.js}"></script>

  <!-- Main JS -->
  <script th:src="@{/assets/js/main.js}"></script>
  
  <!-- Page JS-->
 
 

  
    
    <script>
    var token = $("meta[name='_csrf']").attr("content");
	var header = $("meta[name='_csrf_header']").attr("content");
	$(document).ajaxSend(function(e, xhr, options) {
		xhr.setRequestHeader(header, token);
	});
	
	
	  var dt_basic_table = $('.datatables-basic');
	  
		
	    var dt_basic = dt_basic_table.DataTable({
	    	 ajax: {
	             "url": "assetlistjson",
	             "type": "GET",
	             "dataSrc": "",
	         },
	      columnDefs: [
	        {
	          // For Responsive
	          className: 'control',
	          orderable: false,
	          responsivePriority: 2,
	          searchable: false,
	          visible: true,
	          targets: 0,
	          render: function(data, type, full, meta) {
	            return '';
	          }
	        },
	        {
	          // For Checkboxes
	          targets: 1,
	          orderable: false,
	          responsivePriority: 3,
	          searchable: false,
	          checkboxes: true,
	          render: function(data, type, full, meta) {
	        	  console.log(full);
	            return '<input type="checkbox" class="dt-checkboxes form-check-input">';
	          },
	          checkboxes: {
	            selectAllRender: '<input type="checkbox" class="form-check-input">'
	          }
	        },
	        
	        {
		          targets: 2,
		          searchable: false,
		          visible: false
		    },
		    

	        {
		          targets: 8,
		          render: function(data, type, full, meta) {
		        	  
		        	  var st = full.status;
		        	  var id = full.id;
      			  var status = [];
      			     status['Approved'] = ' bg-label-success';
			             status['Rejected'] = ' bg-label-danger';
			             status['Pending'] = ' bg-label-warning';
			             status['Cancelled'] = ' bg-label-dark';
			             
			             if (typeof status[st] === 'undefined') {
				              return data;
				            }
			             var txt ='';
			             if(st == 'Pending')
			            	 {
			            	 txt+=`<button type="button" class="btn btn-sm rounded-pill btn-label-primary" onclick="CancelRequest(${id});">Cancel the Request</button>`;
			            	 }
			             else
			            	{
			            	 txt+='';
			            	}
				            return (
				              `<span class="badge rounded-pill ${status[st]}">  ${st} </span>  ${txt}`
				            );
		        	  
		          },
		    },
		 
		   
	        
	      ],
	      
	      dom:
	        '<"card-header"<"head-label text-center"><"dt-action-buttons text-end"B>><"d-flex justify-content-between align-items-center row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>t<"d-flex justify-content-between row"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',
	      displayLength: 10,
	      lengthMenu: [10, 25, 50, 75, 100],
	      buttons: [
	        {
	          extend: 'collection',
	          className: 'btn btn-label-primary dropdown-toggle me-2',
	          text: '<i class="bx bx-export me-2"></i>Export',
	          buttons: [
	            {
	              extend: 'print',
	              text: '<i class="bx bx-printer me-2" ></i>Print',
	              className: 'dropdown-item',
	              
	            },
	            {
	              extend: 'csv',
	              text: '<i class="bx bx-file me-2" ></i>Csv',
	              className: 'dropdown-item',
	              
	            },
	            {
	              extend: 'excel',
	              text: 'Excel',
	              className: 'dropdown-item',
	              
	            },
	            {
	              extend: 'pdf',
	              text: '<i class="bx bxs-file-pdf me-2"></i>Pdf',
	              className: 'dropdown-item',
	              
	            },
	            {
	              extend: 'copy',
	              text: '<i class="bx bx-copy me-2" ></i>Copy',
	              className: 'dropdown-item',
	              
	            }
	          ]
	        },
	        {
	          text: '<i class="bx bx-plus me-2"></i> <span class="d-none d-lg-inline-block" >Apply Leave  </span>',
	          className: 'create-new btn btn-primary'
	        }
	      ],
	      
	    });
 

      
    </script>
  </body>
</html>